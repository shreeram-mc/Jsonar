µ
NC:\repos\jsonar\netcore-unit-testing\web-api\Contracts\IShoppingCartService.cs
	namespace 	
jsonar
 
. 
	Contracts 
{ 
public 

	interface  
IShoppingCartService )
{ 
IEnumerable		 
<		 
ShoppingItem		  
>		  !
GetAllItems		" -
(		- .
)		. /
;		/ 0
ShoppingItem

 
Add

 
(

 
ShoppingItem

 %
newItem

& -
)

- .
;

. /
ShoppingItem 
GetById 
( 
Guid !
id" $
)$ %
;% &
void 
Remove 
( 
Guid 
id 
) 
; 
} 
} Ê
RC:\repos\jsonar\netcore-unit-testing\web-api\Controllers\ShoppingCartController.cs
	namespace 	
jsonar
 
. 
Controllers 
{ 
[		 
Route		 

(		
 
$str		 
)		 
]		 
[

 
ApiController

 
]

 
public 

class "
ShoppingCartController '
:( )
ControllerBase* 8
{ 
private 
readonly  
IShoppingCartService -
_service. 6
;6 7
public "
ShoppingCartController %
(% & 
IShoppingCartService& :
service; B
)B C
{ 	
_service 
= 
service 
; 
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
< 
IEnumerable '
<' (
ShoppingItem( 4
>4 5
>5 6
Get7 :
(: ;
); <
{ 	
var 
items 
= 
_service  
.  !
GetAllItems! ,
(, -
)- .
;. /
return 
Ok 
( 
items 
) 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
ActionResult 
< 
ShoppingItem (
>( )
Get* -
(- .
Guid. 2
id3 5
)5 6
{ 	
var 
item 
= 
_service 
.  
GetById  '
(' (
id( *
)* +
;+ ,
if   
(   
item   
==   
null   
)   
{!! 
return"" 
NotFound"" 
(""  
)""  !
;""! "
}## 
return%% 
Ok%% 
(%% 
item%% 
)%% 
;%% 
}&& 	
[(( 	
HttpPost((	 
](( 
public)) 
ActionResult)) 
Post))  
())  !
[))! "
FromBody))" *
]))* +
ShoppingItem)), 8
value))9 >
)))> ?
{** 	
if++ 
(++ 
!++ 

ModelState++ 
.++ 
IsValid++ #
)++# $
{,, 
return-- 

BadRequest-- !
(--! "

ModelState--" ,
)--, -
;--- .
}.. 
var00 
item00 
=00 
_service00 
.00  
Add00  #
(00# $
value00$ )
)00) *
;00* +
return11 
CreatedAtAction11 "
(11" #
$str11# (
,11( )
new11* -
{11. /
id110 2
=113 4
item115 9
.119 :
Id11: <
}11= >
,11> ?
item11@ D
)11D E
;11E F
}22 	
[44 	

HttpDelete44	 
(44 
$str44 
)44 
]44 
public55 
ActionResult55 
Remove55 "
(55" #
Guid55# '
id55( *
)55* +
{66 	
var77 
existingItem77 
=77 
_service77 '
.77' (
GetById77( /
(77/ 0
id770 2
)772 3
;773 4
if99 
(99 
existingItem99 
==99 
null99  $
)99$ %
{:: 
return;; 
NotFound;; 
(;;  
);;  !
;;;! "
}<< 
_service>> 
.>> 
Remove>> 
(>> 
id>> 
)>> 
;>>  
return?? 
Ok?? 
(?? 
)?? 
;?? 
}@@ 	
}AA 
}BB ¢
BC:\repos\jsonar\netcore-unit-testing\web-api\Model\ShoppingItem.cs
	namespace 	
jsonar
 
. 
Model 
{ 
public 

class 
ShoppingItem 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
[

 	
Required

	 
]

 
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Manufacturer "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} ×
7C:\repos\jsonar\netcore-unit-testing\web-api\Program.cs
	namespace 	
jsonar
 
{ 
public 

class 
Program 
{		 
public

 
static

 
void

 
Main

 
(

  
string

  &
[

& '
]

' (
args

) -
)

- .
{ 	 
CreateWebHostBuilder  
(  !
args! %
)% &
.& '
Build' ,
(, -
)- .
.. /
Run/ 2
(2 3
)3 4
;4 5
} 	
public 
static 
IWebHostBuilder % 
CreateWebHostBuilder& :
(: ;
string; A
[A B
]B C
argsD H
)H I
=>J L
WebHost 
.  
CreateDefaultBuilder (
(( )
args) -
)- .
. 

UseStartup 
< 
Startup #
># $
($ %
)% &
;& '
} 
} À
KC:\repos\jsonar\netcore-unit-testing\web-api\Sevices\ShoppingCartService.cs
	namespace 	
jsonar
 
. 
Sevices 
{ 
public 

class 
ShoppingCartService $
:% & 
IShoppingCartService' ;
{		 
public

 
ShoppingItem

 
Add

 
(

  
ShoppingItem

  ,
newItem

- 4
)

4 5
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
IEnumerable 
< 
ShoppingItem '
>' (
GetAllItems) 4
(4 5
)5 6
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
ShoppingItem 
GetById #
(# $
Guid$ (
id) +
)+ ,
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
void 
Remove 
( 
Guid 
id  "
)" #
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
} 
} Ç
7C:\repos\jsonar\netcore-unit-testing\web-api\Startup.cs
	namespace		 	
jsonar		
 
{

 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
	AddScoped 
<  
IShoppingCartService 3
,3 4
ShoppingCartService5 H
>H I
(I J
)J K
;K L
services 
. 
AddMvc 
( 
) 
. #
SetCompatibilityVersion 5
(5 6 
CompatibilityVersion6 J
.J K
Version_2_2K V
)V W
;W X
} 	
public 
void 
	Configure 
( 
IApplicationBuilder 1
app2 5
,5 6
IHostingEnvironment7 J
envK N
)N O
{ 	
if 
( 
env 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app   
.   %
UseDeveloperExceptionPage   -
(  - .
)  . /
;  / 0
}!! 
else"" 
{## 
app%% 
.%% 
UseHsts%% 
(%% 
)%% 
;%% 
}&& 
app(( 
.(( 
UseHttpsRedirection(( #
(((# $
)(($ %
;((% &
app)) 
.)) 
UseMvc)) 
()) 
))) 
;)) 
}** 	
}++ 
},, 